# 

# 记忆助手

## 成员信息

李赛尉

李秀祥

陆俞因 17343081

## 简介

（介绍APP的背景，动机等）

## 开发环境

- **操作系统**：Windows
- **IDE**：Android Studio

## 成员分工

（介绍成员分工情况）

- **罗锐堃**：负责UI设计，主页面编写，Minmax算法编写。

## 重点&难点

（介绍APP实现中的重点、难点等内容）

### 1. AI对战

由于我们团队没有实现网络对战，因此需要机器人与玩家进行对战。为此，我们使用MinMax算法与玩家对战。

#### MinMax算法

（如有必要，可以展开）

## 功能信息

（确定APP的所需要实现的功能，此内容将作为检查APP是否功能完善的重要依据）

1. 实现与AI战斗的3x3井字棋游戏
2. 实现AI难度可调

## 实现方法

（下面内容属于第三次考核，依个人写作习惯和项目情况，自己组织语言和结构。需要包括**需求分析（用例图），设计（类图，流程图）等**，完整展示APP的实现方法。此内容将作为提问环节的重要依据。）

应用执行的主要流程可用下图表示：

![微信截图_20200215111205](C:/Users/DELL/Desktop/android/project/MAD2020_FHW/homework/19214821_罗锐堃/report/微信截图_20200215111205.png)

项目包含2个主要文件：

### MainActivity.java

主页面代码。同时也 implements OnTouchListener，作为棋盘的监听器。主要功能包括：

- **OnCreate() && init()**：绘制出初始UI，为棋盘设置监听器。（难度按钮的触发函数已在xml设定）。
- **setLevel()**：难度按钮的触发函数，设置level值。
- **OnTouch()**：棋盘的触发函数，当玩家按在棋盘某处时，传递坐标给棋盘的human_play函数落子，并根据human_play的返回判断是否结束：若已结束，则在文本框中显示结果；若未结束，则传递level给棋盘的ai_play函数，由AI落子。

### Board.java

棋盘代码，继承至View。其维护一个棋盘数组，绘制时根据棋盘数组的情况绘制棋盘。主要功能包括：

- **onDraw()**：绘制棋盘，包括根据当前棋盘数组状况绘制相应的O和X。Activity的初始化和自己继承的invalidate()都会调用该函数。
- **human_play(float x, float y)**：根据(x, y)，在棋盘数组上落子。调用checkWinner()判断棋局是否结束。
- **ai_play(int level)**：根据level和当前棋盘数组，调用算法确定落子位置，并在棋盘数组上落子。调用checkWinner()判断棋局是否结束。
- **minmax(int depth, boolean isMaximizing)**：递归算法。根据当前棋盘数组，确定最优落子方案。
- **checkWinner()**：根据棋盘数组，判断棋局是否已结束。

